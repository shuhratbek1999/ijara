import{H as D,N,_ as q}from"./Footer-CxEALe0l.js";import{d as E,C as I,a as S,b as R,c as V}from"./car8-7ryjFxVI.js";import{r as v,C as U,h as A,B as O,a as l,c as o,n as e,b as _,t as n,F as j,q as H,e as m,u as y,G as g,s as k,j as C,k as $,w as F,m as L,x as G,o as T,f as M,g as Y}from"./index-77LWITA5.js";import{S as X}from"./store-m3RFU65g.js";import{_ as z}from"./ElonList-2BiX0q4Z.js";const J={key:0,class:"elonAbout relative w-full bg-gray-50 flex flex-col items-center"},K={class:"elon_content my-4 w-11/12 flex xx:flex-col xl:flex-row justify-between"},P={class:"elon_content_about xl:w-2/3 xl:mr-2"},Q={class:"carousel bg-white py-3 rounded-md"},W={class:"information bg-white rounded-md my-3 p-5"},Z={class:"description my-3"},ee={class:"xx:text-xs xl:text-base"},te={key:0,class:"inline-block xx:text-xs xl:text-base mr-2 font-montserrat text-gray-700"},se={key:1,class:"xx:text-xs xl:text-base"},le={class:"user_contact my-4 p-5 flex justify-between bg-white rounded-md"},oe={class:"user_info"},ae={class:"date_love flex items-center"},ne={key:0,class:"user my-2"},re={key:0,class:"xx:text-xs xl:text-base"},ue={key:1,class:"xx:text-xs xl:text-base"},xe={key:2,class:"xx:text-xs xl:text-base xl:w-44 xx:w-28"},ie={class:"user_contact"},ce={class:"flex items-center my-3"},de={key:0,class:"font-bold"},me={class:"elon_user xl:w-1/3 xl:ml-2"},_e={class:"user_contact w-full p-5 bg-white rounded-md"},ve={class:"date_love flex justify-between items-center"},pe={class:"xx:text-xs xl:text-base font-bold"},fe={class:"xl:text-xl xx:text-base py-2"},he={class:"xl:text-2xl font-bold my-6"},ye={class:"my-3"},be={class:"w-full rounded border-contactBg border-2 py-2"},ge={class:"user_contact my-4 p-5 bg-white rounded-md"},we={class:"date_love flex items-center my-2"},ke={key:0,class:"user"},Ce={key:0},$e={key:1},Me={key:2,class:"xx:text-xs xl:text-base xl:w-44 xx:w-28"},Ye={class:"adress my-4 xx:text-xs xl:text-base"},Ee={__name:"ElonAbout",props:{elon:{type:Object,required:!0}},setup(b){const f=v(localStorage.getItem("userID")),i=X(),x=U(),h=A(),p=b,c=v([]),t=v({}),r=v(!1),u=d=>{var s,a;f.value!=((s=d.user)==null?void 0:s.id)&&(i.elonChat(d),x.setOtherUserId(Number((a=d.user)==null?void 0:a.id)),h.push({name:"Chats"}))};return O(()=>{p.elon.images&&(c.value=p.elon.images,t.value=p.elon)}),(d,s)=>t.value?(l(),o("main",J,[e("div",K,[e("div",P,[e("div",Q,[_(E,{carousel:c.value},null,8,["carousel"])]),e("ul",W,[e("div",Z,[s[4]||(s[4]=e("h1",{class:"xl:text-xl xx:text-base font-bold"},"Description",-1)),e("p",ee,n(t.value.description),1)]),(l(!0),o(j,null,H(t.value.elonExtra,(a,w)=>(l(),o("li",{key:w},[e("p",null,[a.values.length>0?(l(),o("span",te,n(a.category_fields.field_name)+":",1)):m("",!0),a.values.length>0?(l(),o("span",se,n(a.values),1)):m("",!0)])]))),128))]),e("div",le,[e("div",oe,[s[6]||(s[6]=e("h2",{class:"xl:text-xl xx:text-xs"},"Связаться с продавцом",-1)),e("div",ae,[s[5]||(s[5]=e("i",{class:"material-icons xx:text-2xl xl:text-4xl mr-2"},"person_pin",-1)),t.value.user&&t.value.user.user_date.length>0?(l(),o("div",ne,[t.value.user?(l(),o("p",re,n(t.value.user.name),1)):m("",!0),t.value.user.user_date[0].isOnline?(l(),o("p",ue," Online ")):(l(),o("p",xe,n(y(g)(t.value.user.user_date[0].down_date).format("YYYY [yil] D MMMM HH:mm:ss")),1))])):m("",!0)])]),e("div",ie,[e("button",{class:"bg-contactBg my-3 text-white xx:h-8 xx:w-40 xl:w-56 rounded xl:h-10",onClick:s[0]||(s[0]=a=>u(t.value))}," Сообщение "),e("p",ce,[s[7]||(s[7]=e("span",null,[e("i",{class:"material-icons mr-4"},"phone")],-1)),t.value.phone_number?(l(),o("span",de,n(t.value.phone_number),1)):m("",!0)])])])]),e("div",me,[e("div",_e,[e("div",ve,[e("p",pe,n(y(g)(t.value.create_at*1e3).format("YYYY [yil] D MMMM"))+" Опубликовано ",1),e("span",null,[_(y(D))])]),e("h2",fe,n(t.value.name),1),e("p",he,n(t.value.price)+" сум",1),e("p",{class:"my-3",onClick:s[1]||(s[1]=a=>u(t.value))},s[8]||(s[8]=[e("button",{class:"w-full rounded bg-contactBg py-2 text-white"}," Сообщение ",-1)])),e("p",ye,[e("button",be,[r.value==!1&&t.value.phone_number?(l(),o("span",{key:0,onClick:s[2]||(s[2]=a=>r.value=!r.value)},"Показать телефон")):(l(),o("span",{key:1,onClick:s[3]||(s[3]=a=>r.value=!r.value)},n(t.value.phone_number),1))])])]),e("div",ge,[s[10]||(s[10]=e("h2",{class:"xx:text-base xl:text-xl"},"Пользователь",-1)),e("div",we,[s[9]||(s[9]=e("i",{class:"material-icons text-4xl mr-2"},"person_pin",-1)),t.value.user&&t.value.user.user_date.length>0?(l(),o("div",ke,[t.value.user?(l(),o("p",Ce,n(t.value.user.name),1)):m("",!0),t.value.user.user_date[0].isOnline?(l(),o("p",$e,"Online")):(l(),o("p",Me,n(y(g)(t.value.user.user_date[0].down_date).format("YYYY [yil] D MMMM HH:mm:ss")),1))])):m("",!0)]),e("div",Ye,[e("p",null,"Adress: "+n(t.value.adress),1)])])])])])):m("",!0)}},Ae={class:"w-full flex justify-center bg-gray-50 py-10"},Oe={class:"comment w-11/12 flex xx:flex-col xl:flex-row"},je={key:0,class:"comment_list xl:w-2/3"},He={class:"font-bold mb-2 xl:text-xl"},Be={class:"text-xs"},De={key:0,class:"xx:mt-16 xl:w-2/3 flex flex-col items-center"},Ne={class:"info"},qe={class:"font-bold font-montserrat"},Ie={class:"xx:text-xs xl:text-base"},Se={class:"date xx:text-xs xl:text-sm"},Re={class:"comment_add xx:mt-16 xl:w-1/3 flex flex-col items-center"},Ve={class:"border-b-0.1 mb-6 border-gray-500 xx:w-full xl:w-1/2 pb-1"},Ue={key:0},Fe={key:1},Le={__name:"OneElonCommentAll",props:{elon:{type:Object,required:!0}},setup(b){const f=A(),i=b,x=v({}),h=r=>{console.log(r)},p=r=>{f.push({path:"/review",query:{name:r}})},c=k(()=>x.value.comments?x.value.comments.length:0),t=k(()=>{let r=0;return x.value.comments&&x.value.comments.map(u=>{r+=u.rating}),r});return O(()=>{x.value=i.elon}),(r,u)=>{const d=C("a-rate"),s=C("a-button");return l(),o("section",Ae,[e("div",Oe,[x.value.comments?(l(),o("ul",je,[e("h2",He,[u[1]||(u[1]=$(" Отзывы ")),e("span",Be,n(c.value),1)]),c.value==0?(l(),o("p",De," Помогите другим пользователям с выбором — будьте первым, кто поделится своим мнением об этом товаре. ")):m("",!0),(l(!0),o(j,null,H(x.value.comments,(a,w)=>(l(),o("li",{key:w,class:"border-b-0.1 pt-2 xl:h-32 xx:h-32 flex justify-between border-b-gray-600"},[e("div",Ne,[e("h2",qe,n(a.name),1),_(d,{class:"my-1 xx:text-sm xl:text-xl",value:a.rating,"onUpdate:value":B=>a.rating=B,"allow-half":"",onChange:h},null,8,["value","onUpdate:value"]),e("p",Ie,n(a.comment_text),1)]),e("p",Se,n(y(g)(a.create_at).format("YYYY [yil] D MMMM HH:mm:ss")),1)]))),128))])):m("",!0),e("div",Re,[e("h2",Ve,[c.value!=0&&t.value!=0?(l(),o("p",Ue,[e("span",null,n(t.value/c.value),1),u[2]||(u[2]=e("span",null,"/ 5",-1))])):(l(),o("p",Fe,"Нет оценок"))]),_(s,{onClick:u[0]||(u[0]=a=>p(x.value.name)),class:"xl:w-1/2 xx:w-full h-10",type:"primary"},{default:F(()=>u[3]||(u[3]=[$("Написать отзыв")])),_:1})])])])}}},Ge={class:"home"},Pe={__name:"index",setup(b){const f=L(),i=v({}),x=v([{img:I},{img:S},{img:R},{img:V}]);let h=v([]);const p=()=>{var t,r,u;i.value.category_name&&M.get("subcategory/suboneall_elon",{params:{name:(u=(r=(t=i.value)==null?void 0:t.subcategory)==null?void 0:r.main_cat)==null?void 0:u.name,id:i.value.id}}).then(d=>{h.value=d.data.data}).catch(d=>{Y.warning(d)})},c=()=>{M.get("elon/names",{params:{name:f.query.name}}).then(t=>{i.value=t.data.data[0],p()}).catch(t=>{Y.warning(t)})};return G(()=>f.query.name,()=>{c()}),T(()=>{c()}),(t,r)=>(l(),o("div",Ge,[_(N),_(E,{carousel:x.value},null,8,["carousel"]),_(Ee,{elon:i.value},null,8,["elon"]),_(z,{elons:y(h)},null,8,["elons"]),_(Le,{elon:i.value},null,8,["elon"]),_(q)]))}};export{Pe as default};
