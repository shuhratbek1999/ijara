import{i as D,u as N,r as S,h as E,p,o as l,a as f,j as v,q as i,F as M,l as g,e as _,t as h,f as x,k as R,s as r,E as Y,P as q,D as A,m as y,g as k}from"./index-FDdxv7ms.js";import{h as B}from"./moment-C5S46NFB.js";const V={class:"list overflow-x-auto"},H={__name:"elonlar",setup($){const d=D("socket"),b=N(),u=[{title:"Name",dataIndex:"name",width:150},{title:"category",dataIndex:"category_name",width:150},{title:"date time",dataIndex:"create_at",customRender:({record:t})=>B(t.create_at*1e3).format("YYYY-MM-DD HH:mm:ss")},{title:"price",dataIndex:"price"},{title:"status",dataIndex:"status"},{title:"Action",dataIndex:"action",customRender:({record:t})=>r("span",[r(Y,{onClick:()=>I(t.id),style:{cursor:"pointer",marginRight:"15px"}}),r(q,{title:"Are you sure to delete this record?",onConfirm:()=>w(t.id),onCancel:()=>console.log("Delete canceled")},{default:()=>r(A,{style:{cursor:"pointer"}})})])}];let m=S([]);function C(t){const e=String(t).replace("-",""),s=e.length;let a="";for(let n=0;n<s;n++)(s-n)%3===0&&n!==0&&(a+=" "),a+=e[n];return t<0&&(a="-"+a),a}const I=t=>{b.push("/elon_update/"+t)},w=t=>{y.delete("elon/delete/"+t).then(e=>{e.data.success?c():k.warning(`${e.data.message}`)})},c=()=>{y.get("elon/adminAll").then(t=>{if(t.data.success){for(let e of t.data.data)C(e.price),e.name=`${e.name.substring(0,15)}....`;m.value=t.data.data}else k.warning(`${t.data.message}`)})};return E(()=>{d.connect(),c(),d.updateElon(()=>{c()})}),(t,e)=>{const s=p("a-button"),a=p("a-table");return l(),f("div",V,[v(a,{columns:u,"data-source":R(m),pagination:{pageSize:50},scroll:{x:u.length*150,y:400}},{bodyCell:i(({column:n,record:o})=>[n.title=="status"?(l(),f(M,{key:0},[o.status=="tasdiqlanmagan"?(l(),g(s,{key:0,danger:""},{default:i(()=>[_(h(o.status),1)]),_:2},1024)):o.status=="tasdiqlangan"?(l(),g(s,{key:1,type:"primary"},{default:i(()=>[_(h(o.status),1)]),_:2},1024)):x("",!0)],64)):x("",!0)]),_:1},8,["data-source","scroll"])])}}};export{H as default};
