import{i as M,u as N,r as O,h as P,p as c,o as s,a as p,j as i,q as n,F as R,l as _,e as f,t as g,f as y,k as h,s as o,E as Y,P as q,D as A,m as k,g as x}from"./index-CdO7SmOX.js";import{h as B}from"./moment-C5S46NFB.js";import{P as S}from"./PlusCircleOutlined-C1Y5bOmT.js";const V={style:{"overflow-x":"auto"}},z={__name:"list",setup($){const C=M("socket"),r=N(),d=[{title:"Name",dataIndex:"name",width:150},{title:"category",dataIndex:"category_name",width:150},{title:"date time",dataIndex:"create_at",customRender:({record:t})=>B(t.create_at*1e3).format("YYYY-MM-DD HH:mm:ss")},{title:"price",dataIndex:"price"},{title:"status",dataIndex:"status"},{title:"Action",dataIndex:"action",customRender:({record:t})=>o("span",[o(Y,{onClick:()=>b(t.id),style:{cursor:"pointer",marginRight:"15px"}}),o(q,{title:"Are you sure to delete this record?",onConfirm:()=>w(t.id),onCancel:()=>console.log("Delete canceled")},{default:()=>o(A,{style:{cursor:"pointer"}})})])}];let u=O([]);const b=t=>{r.push("/elon_update/"+t)},w=t=>{k.delete("elon/delete/"+t).then(e=>{e.data.success?l():x.warning(`${e.data.message}`)})},I=()=>{r.push("/elon_add")},l=()=>{k.get("elon/userOne").then(t=>{if(t.data.success){for(let e of t.data.data)e.name=`${e.name.substring(0,15)}....`;u.value=t.data.data}else x.warning(`${t.data.message}`)})};return P(()=>{l(),C.newElon(()=>{l()})}),(t,e)=>{const m=c("a-button"),D=c("a-table"),E=c("a-float-button");return s(),p("div",V,[i(D,{columns:d,"data-source":h(u),pagination:{pageSize:50},scroll:{x:d.length*150,y:400}},{bodyCell:n(({column:v,record:a})=>[v.title=="status"?(s(),p(R,{key:0},[a.status=="tasdiqlanmagan"?(s(),_(m,{key:0,danger:""},{default:n(()=>[f(g(a.status),1)]),_:2},1024)):a.status=="tasdiqlangan"?(s(),_(m,{key:1,type:"primary"},{default:n(()=>[f(g(a.status),1)]),_:2},1024)):y("",!0)],64)):y("",!0)]),_:1},8,["data-source","scroll"]),i(E,{type:"primary",onClick:I},{icon:n(()=>[i(h(S))]),_:1})])}}};export{z as default};
