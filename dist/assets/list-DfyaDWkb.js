import{i as M,h as N,r as O,o as P,j as c,a as n,c as p,b as d,w as o,F as R,d as _,k as f,t as g,e as y,u as h,l as s,E as Y,P as A,D as B,f as k,g as x}from"./index-BxFgR4VW.js";import{h as S}from"./moment-C5S46NFB.js";import{P as V}from"./PlusCircleOutlined-C9BMxMzO.js";const $={style:{"overflow-x":"auto"}},z={__name:"list",setup(j){const b=M("socket"),i=N(),r=[{title:"Name",dataIndex:"name",width:150},{title:"category",dataIndex:"category_name",width:150},{title:"date time",dataIndex:"create_at",customRender:({record:t})=>S(t.create_at*1e3).format("YYYY-MM-DD HH:mm:ss")},{title:"price",dataIndex:"price"},{title:"status",dataIndex:"status"},{title:"Action",dataIndex:"action",customRender:({record:t})=>s("span",[s(Y,{onClick:()=>C(t.id),style:{cursor:"pointer",marginRight:"15px"}}),s(A,{title:"Are you sure to delete this record?",onConfirm:()=>w(t.id),onCancel:()=>console.log("Delete canceled")},{default:()=>s(B,{style:{cursor:"pointer"}})})])}];let u=O([]);const C=t=>{i.push("/elon_update/"+t)},w=t=>{k.delete("elon/delete/"+t).then(e=>{e.data.success?l():x.warning(`${e.data.message}`)})},I=()=>{i.push("/elon_add")},l=()=>{k.get("elon/userOne").then(t=>{if(t.data.success){for(let e of t.data.data)e.name=`${e.name.substring(0,15)}....`;u.value=t.data.data}else x.warning(`${t.data.message}`)})};return P(()=>{l(),b.newElon(()=>{l()})}),(t,e)=>{const m=c("a-button"),D=c("a-table"),E=c("a-float-button");return n(),p("div",$,[d(D,{columns:r,"data-source":h(u),pagination:{pageSize:50},scroll:{x:r.length*150,y:400}},{bodyCell:o(({column:v,record:a})=>[v.title=="status"?(n(),p(R,{key:0},[a.status=="tasdiqlanmagan"?(n(),_(m,{key:0,danger:""},{default:o(()=>[f(g(a.status),1)]),_:2},1024)):a.status=="tasdiqlangan"?(n(),_(m,{key:1,type:"primary"},{default:o(()=>[f(g(a.status),1)]),_:2},1024)):y("",!0)],64)):y("",!0)]),_:1},8,["data-source","scroll"]),d(E,{type:"primary",onClick:I},{icon:o(()=>[d(h(V))]),_:1})])}}};export{z as default};
