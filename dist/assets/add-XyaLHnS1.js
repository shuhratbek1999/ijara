import{r as p,p as C,o as M,j as i,a as f,c as v,n as s,F as B,q as F,b as r,w as u,u as o,f as b,g,t as _}from"./index-BxFgR4VW.js";import{M as N}from"./modal-CaOpwFLn.js";const z={class:"users"},D={class:"border-2 p-5"},E={class:"name w-1/2 border-2 flex justify-between p-2"},V={class:"email w-1/2 border-2 flex justify-between my-4 p-2"},X={class:"role w-1/2 border-2 flex justify-between p-2"},S={__name:"add",setup(I){const d=p([]);let m=p(!1),y=p({title:"user update",width:"50%"}),w=p(null),l=C({name:"",email:"",password:"",role:"foydalanuvchi"});const h=()=>{m.value=!0},x=()=>{b.patch("user/update/"+w.value,l).then(a=>{d.value=[],d.value=[a.data.data],m.value=!1}).catch(a=>{var e,n;g.warning(((n=(e=a.response)==null?void 0:e.data)==null?void 0:n.message)||"Xatolik yuz berdi")})},q=()=>{b.get("user/person").then(a=>{d.value=[a.data.data],l.name=a.data.data.name,l.email=a.data.data.email,w.value=a.data.data.id}).catch(a=>{var e,n;g.warning(((n=(e=a.response)==null?void 0:e.data)==null?void 0:n.message)||"Xatolik yuz berdi")})};return M(()=>{q()}),(a,e)=>{const n=i("a-input"),c=i("a-form-item"),k=i("a-input-password"),U=i("a-form");return f(),v("div",z,[s("ul",D,[(f(!0),v(B,null,F(d.value,(t,j)=>(f(),v("li",{key:j,class:"m-2"},[s("div",E,[e[3]||(e[3]=s("h4",null,"name:",-1)),s("h2",null,_(t.name),1)]),s("div",V,[e[4]||(e[4]=s("h4",null,"email:",-1)),s("h2",null,_(t.email),1)]),s("div",X,[e[5]||(e[5]=s("h4",null,"role:",-1)),s("h2",null,_(t.role),1)])]))),128))]),s("button",{class:"py-2 px-6 bg-green-500 rounded-sm text-white hover:bg-green-600 transition-all my-4",onClick:h}," Update "),r(N,{open:o(m),styles:o(y),onClose:x},{category:u(()=>[r(U,{model:o(l),name:"basic",autocomplete:"off",class:"mt-10"},{default:u(()=>[r(c,{name:["name"],label:"Name",rules:[{required:!0,message:"name required"}],"label-col":{span:24},"wrapper-col":{span:24}},{default:u(()=>[r(n,{value:o(l).name,"onUpdate:value":e[0]||(e[0]=t=>o(l).name=t),placeholder:"user name"},null,8,["value"])]),_:1}),r(c,{name:["email"],label:"Email",rules:[{required:!0,message:"email required"}],"label-col":{span:24},"wrapper-col":{span:24}},{default:u(()=>[r(n,{value:o(l).email,"onUpdate:value":e[1]||(e[1]=t=>o(l).email=t),placeholder:"email adress"},null,8,["value"])]),_:1}),r(c,{name:["password"],label:"Password",rules:[{required:!0,message:"password required"}],"label-col":{span:24},"wrapper-col":{span:24}},{default:u(()=>[r(k,{value:o(l).password,"onUpdate:value":e[2]||(e[2]=t=>o(l).password=t),placeholder:"password"},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["open","styles"])])}}};export{S as default};
