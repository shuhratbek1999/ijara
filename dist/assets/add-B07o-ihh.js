import{r as p,y as C,h as M,p as m,o as f,a as v,b as l,F as B,d as F,j as r,q as d,k as o,m as b,g,t as w}from"./index-clLH2Q5S.js";import{M as N}from"./modal-aF0zQDtE.js";const z={class:"users"},D={class:"border-2 p-1 overflow-x-scroll"},E={class:"name md:w-1/2 border-2 flex justify-between p-2"},V={class:"email md:w-1/2 border-2 flex justify-between flex-wrap my-4 p-2"},X={class:"role md:w-1/2 border-2 flex justify-between p-2"},S={__name:"add",setup(I){const u=p([]);let i=p(!1),y=p({title:"user update",width:"90%"}),_=p(null),s=C({name:"",email:"",password:"",role:"foydalanuvchi"});const h=()=>{i.value=!0},x=()=>{b.patch("user/update/"+_.value,s).then(a=>{u.value=[],u.value=[a.data.data],i.value=!1}).catch(a=>{var e,n;g.warning(((n=(e=a.response)==null?void 0:e.data)==null?void 0:n.message)||"Xatolik yuz berdi")})},k=()=>{b.get("user/person").then(a=>{u.value=[a.data.data],s.name=a.data.data.name,s.email=a.data.data.email,_.value=a.data.data.id}).catch(a=>{var e,n;g.warning(((n=(e=a.response)==null?void 0:e.data)==null?void 0:n.message)||"Xatolik yuz berdi")})};return M(()=>{k()}),(a,e)=>{const n=m("a-input"),c=m("a-form-item"),q=m("a-input-password"),U=m("a-form");return f(),v("div",z,[l("ul",D,[(f(!0),v(B,null,F(u.value,(t,j)=>(f(),v("li",{key:j,class:"m-2"},[l("div",E,[e[3]||(e[3]=l("h4",null,"name:",-1)),l("h2",null,w(t.name),1)]),l("div",V,[e[4]||(e[4]=l("h4",null,"email:",-1)),l("h2",null,w(t.email),1)]),l("div",X,[e[5]||(e[5]=l("h4",null,"role:",-1)),l("h2",null,w(t.role),1)])]))),128))]),l("button",{class:"py-2 px-6 bg-green-500 rounded-sm text-white hover:bg-green-600 transition-all my-4",onClick:h}," Update "),r(N,{open:o(i),styles:o(y),onClose:x},{category:d(()=>[r(U,{model:o(s),name:"basic",autocomplete:"off",class:"mt-10"},{default:d(()=>[r(c,{name:["name"],label:"Name",rules:[{required:!0,message:"name required"}],"label-col":{span:24},"wrapper-col":{span:24}},{default:d(()=>[r(n,{value:o(s).name,"onUpdate:value":e[0]||(e[0]=t=>o(s).name=t),placeholder:"user name"},null,8,["value"])]),_:1}),r(c,{name:["email"],label:"Email",rules:[{required:!0,message:"email required"}],"label-col":{span:24},"wrapper-col":{span:24}},{default:d(()=>[r(n,{value:o(s).email,"onUpdate:value":e[1]||(e[1]=t=>o(s).email=t),placeholder:"email adress"},null,8,["value"])]),_:1}),r(c,{name:["password"],label:"Password",rules:[{required:!0,message:"password required"}],"label-col":{span:24},"wrapper-col":{span:24}},{default:d(()=>[r(q,{value:o(s).password,"onUpdate:value":e[2]||(e[2]=t=>o(s).password=t),placeholder:"password"},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["open","styles"])])}}};export{S as default};
