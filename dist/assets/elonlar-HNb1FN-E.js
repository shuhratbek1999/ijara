import{i as D,h as N,r as S,o as E,j as m,a as l,c as p,b as M,w as r,F as R,d as g,k as f,t as _,e as h,u as Y,l as c,E as v,P as A,D as B,f as y,g as k}from"./index-B_p4t0Lo.js";import{h as V}from"./moment-C5S46NFB.js";const $={class:"list"},H={__name:"elonlar",setup(j){const d=D("socket"),x=N(),b=[{title:"Name",dataIndex:"name",width:150},{title:"category",dataIndex:"category_name",width:150},{title:"date time",dataIndex:"create_at",customRender:({record:t})=>V(t.create_at*1e3).format("YYYY-MM-DD HH:mm:ss")},{title:"price",dataIndex:"price"},{title:"status",dataIndex:"status"},{title:"Action",dataIndex:"action",customRender:({record:t})=>c("span",[c(v,{onClick:()=>I(t.id),style:{cursor:"pointer",marginRight:"15px"}}),c(A,{title:"Are you sure to delete this record?",onConfirm:()=>w(t.id),onCancel:()=>console.log("Delete canceled")},{default:()=>c(B,{style:{cursor:"pointer"}})})])}];let u=S([]);function C(t){const e=String(t).replace("-",""),s=e.length;let a="";for(let n=0;n<s;n++)(s-n)%3===0&&n!==0&&(a+=" "),a+=e[n];return t<0&&(a="-"+a),a}const I=t=>{x.push("/elon_update/"+t)},w=t=>{y.delete("elon/delete/"+t).then(e=>{e.data.success?i():k.warning(`${e.data.message}`)})},i=()=>{y.get("elon/adminAll").then(t=>{if(console.log(t.data),t.data.success){for(let e of t.data.data)C(e.price),e.name=`${e.name.substring(0,15)}....`;u.value=t.data.data}else k.warning(`${t.data.message}`)})};return E(()=>{d.connect(),i(),d.updateElon(()=>{i()})}),(t,e)=>{const s=m("a-button"),a=m("a-table");return l(),p("div",$,[M(a,{columns:b,"data-source":Y(u),pagination:{pageSize:50},scroll:{y:400}},{bodyCell:r(({column:n,record:o})=>[n.title=="status"?(l(),p(R,{key:0},[o.status=="tasdiqlanmagan"?(l(),g(s,{key:0,danger:""},{default:r(()=>[f(_(o.status),1)]),_:2},1024)):o.status=="tasdiqlangan"?(l(),g(s,{key:1,type:"primary"},{default:r(()=>[f(_(o.status),1)]),_:2},1024)):h("",!0)],64)):h("",!0)]),_:1},8,["data-source"])])}}};export{H as default};
