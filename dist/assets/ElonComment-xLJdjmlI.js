import{N as U,F as j}from"./Footer-rkuTIxUo.js";import{u as A,i as R,r as y,G as V,p as m,o as c,a as d,b as n,k as a,e as v,t as g,f as b,j as o,q as i,m as F,g as h,v as S,h as $}from"./index-Bnz_3vkv.js";/* empty css                                                                      */const L={class:"comment_add flex justify-center bg-gray-50"},M={key:0,class:"content w-11/12"},O={class:"content_forma xl:w-3/4 py-6 xx:w-full"},D={class:"font-montserrat xl:text-base xx:text-xs"},G={class:"font-bold"},T={key:0,class:"img_name flex my-8"},z=["src"],H={class:"block font-montserrat xl:text-base xx:text-xs"},I={key:0,class:"font-montserrat xl:text-base xx:text-xs"},J={class:"text-cyan-400"},K={class:"rating"},P={__name:"CommentAddForm",props:{elon:{type:Object,required:!0}},setup(w){const u=A(),x=R("BASE_URL"),s=y({});let t=y({comment_text:"",elon_id:null,rating:0,name:""});const k=w,E=p=>{console.log(p)},C=p=>{const{name:e,comment_text:_}=p;t.value.comment_text=_,t.value.name=e,t.value.elon_id=s.value.id,F.post("comment/create",t.value).then(l=>{l.data.success?u.go(-1):(h.warning(l.data.message),u.push("/register"))}).catch(l=>{h.warning(l)})};return V(()=>{s.value=k.elon[0]}),(p,e)=>{const _=m("a-rate"),l=m("a-input"),f=m("a-form-item"),N=m("a-textarea"),q=m("a-button"),B=m("a-form");return c(),d("section",L,[s.value?(c(),d("div",M,[n("div",{class:"back flex items-center cursor-pointer mt-2 text-sm",onClick:e[0]||(e[0]=r=>a(u).go(-1))},e[4]||(e[4]=[n("i",{class:"material-icons text-xl mr-1"},"keyboard_backspace",-1),n("span",null,"Назад",-1)])),n("div",O,[n("h1",D,[e[5]||(e[5]=v(" Ваш отзыв о товаре ")),n("span",G,g(s.value.name),1)]),s.value.images?(c(),d("div",T,[n("img",{src:a(x)+"img/"+s.value.images[0].url,class:"w-20 h-20 mr-4",alt:""},null,8,z),n("p",null,[n("span",H,g(s.value.name),1),s.value.user?(c(),d("span",I,[e[6]||(e[6]=v("Продавец ")),n("span",J,g(s.value.user.name),1)])):b("",!0)])])):b("",!0),n("div",K,[e[7]||(e[7]=n("h2",{class:"font-montserrat xl:text-base xx:text-xs font-bold my-4"}," Оцените товар ",-1)),o(_,{value:a(t).rating,"onUpdate:value":e[1]||(e[1]=r=>a(t).rating=r),"allow-half":""},null,8,["value"])]),e[10]||(e[10]=n("div",{class:"line xl:w-8/12 xx:w-full h-0.3 bg-gray-500 my-10"},null,-1)),o(B,{model:a(t),name:"basic","label-col":{span:8},"wrapper-col":{span:16},autocomplete:"off",onFinish:C,onFinishFailed:E},{default:i(()=>[e[9]||(e[9]=n("h1",{class:"font-bold mb-4 xl:text-xl xx:text-xs font-montserrat"}," Поделитесь отзывом о товаре ",-1)),o(f,{name:"name",rules:[{required:!0,message:"Это поле является обязательным для заполнения"}]},{default:i(()=>[o(l,{value:a(t).name,"onUpdate:value":e[2]||(e[2]=r=>a(t).name=r),placeholder:"Введите ваше имя",class:"h-12"},null,8,["value"])]),_:1}),o(f,{name:"comment_text",rules:[{required:!0,message:"Это поле является обязательным для заполнения"}]},{default:i(()=>[o(N,{rows:6,value:a(t).comment_text,"onUpdate:value":e[3]||(e[3]=r=>a(t).comment_text=r),placeholder:"Напишите отзыв"},null,8,["value"])]),_:1}),o(f,{"wrapper-col":{offset:0,span:16}},{default:i(()=>[o(q,{type:"primary",class:"w-full my-4 h-12 font-bold font-montserrat","html-type":"submit"},{default:i(()=>e[8]||(e[8]=[v("Отправить отзыв")])),_:1})]),_:1})]),_:1},8,["model"])])])):b("",!0)])}}},Q={class:"home"},Z={__name:"ElonComment",setup(w){const u=S(),x=y([]),s=()=>{F.get("elon/names",{params:{name:u.query.name}}).then(t=>{x.value=t.data.data}).catch(t=>{h.warning(t)})};return $(()=>{s()}),(t,k)=>(c(),d("div",Q,[o(U),o(P,{elon:x.value},null,8,["elon"]),o(j)]))}};export{Z as default};
